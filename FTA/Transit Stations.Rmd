---
title: "Transit Stations"
output: html_document
---

```{r setup, include=FALSE, message=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(jsonlite)
library(httr)
library(rvest)
library(readxl)
library(tidyverse)
library(mdsr)   
library(tidyr)
library(ggplot2)
library(readr)
library(knitr)
```

## Transit Stations data

```{r, message=FALSE}
transit_stations_2017 <- read_xlsx("Transit Stations_0.xlsx", sheet=1, range="A1:L1100", col_names=TRUE) %>%
  filter(`Reporter Type` == "Full Reporter") %>% 
  select(`NTD ID`, `Agency Name`, `Total Stations`)
  

#Potentially double counted transit stations by used by multiple transit networks
UZA_transit_stations_2017 <- full_join(master_df, transit_stations_2017, by = c("5 digit NTD ID" = "NTD ID" )) %>% 
  select(Agency, UZA, `UZA Name`, `Total Stations`) %>% 
  group_by(UZA) %>% 
  mutate(Total_Stations = sum(`Total Stations`, na.rm = TRUE)) %>% 
  select(UZA, Total_Stations) %>% 
  unique()


  

 

```
